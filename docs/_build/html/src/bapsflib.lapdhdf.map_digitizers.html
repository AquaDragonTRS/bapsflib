
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>bapsflib.lapdhdf.map_digitizers &#8212; bapsflib  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bapsflib.lapdhdf.map_msi" href="bapsflib.lapdhdf.map_msi.html" />
    <link rel="prev" title="bapsflib.lapdhdf.map_controls" href="bapsflib.lapdhdf.map_controls.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bapsflib-lapdhdf-map-digitizers">
<h1>bapsflib.lapdhdf.map_digitizers<a class="headerlink" href="#bapsflib-lapdhdf-map-digitizers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#module-bapsflib.lapdhdf.map_digitizers.digi_template" id="id1">bapsflib.lapdhdf.map_digitizers.digi_template</a></li>
<li><a class="reference internal" href="#module-bapsflib.lapdhdf.map_digitizers.map_digis" id="id2">bapsflib.lapdhdf.map_digitizers.map_digis</a></li>
<li><a class="reference internal" href="#module-bapsflib.lapdhdf.map_digitizers.sis3301" id="id3">bapsflib.lapdhdf.map_digitizers.sis3301</a></li>
<li><a class="reference internal" href="#module-bapsflib.lapdhdf.map_digitizers.siscrate" id="id4">bapsflib.lapdhdf.map_digitizers.siscrate</a></li>
</ul>
</div>
<div class="section" id="module-bapsflib.lapdhdf.map_digitizers.digi_template">
<span id="bapsflib-lapdhdf-map-digitizers-digi-template"></span><h3><a class="toc-backref" href="#id1">bapsflib.lapdhdf.map_digitizers.digi_template</a><a class="headerlink" href="#module-bapsflib.lapdhdf.map_digitizers.digi_template" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template">
<em class="property">class </em><code class="descclassname">bapsflib.lapdhdf.map_digitizers.digi_template.</code><code class="descname">hdfMap_digi_template</code><span class="sig-paren">(</span><em>digi_group</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">abc.ABC</span></code></p>
<p>Template class for all digitizer mapping classes to inherit from.</p>
<p>Any inheriting class should define <code class="code docutils literal"><span class="pre">__init__</span></code> as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digi_group</span><span class="p">)</span>
    <span class="c1"># initialize</span>
    <span class="n">hdfMap_digi_template</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digi_group</span><span class="p">)</span>

    <span class="c1"># populate self.configs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_build_configs</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any method that raises a <code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code> is intended
to be overwritten by the inheriting class.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>digi_group</strong> (<code class="xref py py-class docutils literal"><span class="pre">h5py.Group</span></code>) – the digitizer HDF5 group</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._adc_info">
<code class="descname">_adc_info</code><span class="sig-paren">(</span><em>adc_name</em>, <em>config_group</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._adc_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds information on how the adc was configured.</p>
<p>Should call on <a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._find_adc_connections" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._find_adc_connections"><code class="xref py py-meth docutils literal"><span class="pre">_find_adc_connections()</span></code></a> to determine
active connections to the adc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>adc_name</strong> (<em>str</em>) – name of analog-digital-converter</li>
<li><strong>config_group</strong> (<code class="xref py py-class docutils literal"><span class="pre">h5py.Group</span></code>) – instance of the digitizers configuration
group</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of of tuples containing configuration
information of the requested adc</p>
</td>
</tr>
</tbody>
</table>
<p>The returned <code class="xref py py-data docutils literal"><span class="pre">adc_info</span></code> looks like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">adc_info</span> <span class="o">=</span> <span class="p">[(</span>
    <span class="n">board</span><span class="p">,</span>
    <span class="n">channels</span><span class="p">,</span>
    <span class="p">{</span><span class="s1">&#39;bit&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
     <span class="s1">&#39;sample rate&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span>
     <span class="s1">&#39;sample average (hardware)&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
     <span class="s1">&#39;shot average (software)&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">}</span>
<span class="p">),</span> <span class="p">]</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><code class="code docutils literal"><span class="pre">board</span></code> (<cite>int</cite>) = active board number</li>
<li><code class="code docutils literal"><span class="pre">channels</span></code> (<cite>list(int)</cite>) = list of active channels on
<code class="code docutils literal"><span class="pre">board</span></code></li>
<li><code class="code docutils literal"><span class="pre">'bit'</span></code> = bit resolution of adc</li>
<li><code class="code docutils literal"><span class="pre">'sample</span> <span class="pre">rate'</span></code> = 2-element tuple defining the sample
rate of the adc. First element is value and second is its
unit (e.g. <code class="code docutils literal"><span class="pre">'MHz'</span></code>, <code class="code docutils literal"><span class="pre">'GHz'</span></code>, etc.).</li>
<li><code class="code docutils literal"><span class="pre">'sample</span> <span class="pre">average</span> <span class="pre">(hardware)'</span></code> = <cite>int</cite> for the number of
samples averaged together and <code class="code docutils literal"><span class="pre">None</span></code> for no averaging</li>
<li><code class="code docutils literal"><span class="pre">'shot</span> <span class="pre">average</span> <span class="pre">(software)'</span></code> = <cite>int</cite> for the number of
consecutive shots averaged together and <code class="code docutils literal"><span class="pre">None</span></code> for no
averaging</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._build_configs">
<code class="descname">_build_configs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._build_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Gathers the necessary metadata and fills <a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs"><code class="xref py py-data docutils literal"><span class="pre">configs</span></code></a></p>
<p>Should call on the following methods to populate
<a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs"><code class="xref py py-data docutils literal"><span class="pre">configs</span></code></a>:</p>
<ul class="simple">
<li><code class="xref py py-meth docutils literal"><span class="pre">parse_config_name()</span></code></li>
<li><code class="xref py py-meth docutils literal"><span class="pre">is_config_active()</span></code></li>
<li><a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._find_config_adc" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._find_config_adc"><code class="xref py py-meth docutils literal"><span class="pre">_find_config_adc()</span></code></a></li>
<li><a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._adc_info" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._adc_info"><code class="xref py py-meth docutils literal"><span class="pre">_adc_info()</span></code></a></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._find_adc_connections">
<code class="descname">_find_adc_connections</code><span class="sig-paren">(</span><em>adc_name</em>, <em>config_group</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._find_adc_connections" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the active connections (boards, channels, and extras) on
the adc.  This is called by <a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._adc_info" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._adc_info"><code class="xref py py-meth docutils literal"><span class="pre">_adc_info()</span></code></a> to help gather all
the adc info.  It is specifically designed to find the active
board and channel combinations, as well as, any “extra” info
that can only be gathered at the same time as determining the
active board and channel combinations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>adc_name</strong> (<em>str</em>) – name of adc</li>
<li><strong>config_group</strong> (<code class="xref py py-class docutils literal"><span class="pre">h5py.Group</span></code>) – digitizer configuration group</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of tuples containing the active adc connections
and “extra” information</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">adc_conns</span> <span class="o">=</span> <span class="p">[(</span><span class="n">board</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">extras</span><span class="p">),</span> <span class="p">]</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><code class="code docutils literal"><span class="pre">board</span></code> (<cite>int</cite>) = active board number</li>
<li><code class="code docutils literal"><span class="pre">channels</span></code> (<cite>list(int)</cite>) = list of active channels on
<code class="code docutils literal"><span class="pre">board</span></code></li>
<li><code class="code docutils literal"><span class="pre">extras</span></code> (<cite>dict</cite>) = dictionary of “extra” information,
can include the dictionary keys <code class="code docutils literal"><span class="pre">'bit'</span></code>,
<code class="code docutils literal"><span class="pre">'sample</span> <span class="pre">rate'</span></code>, etc.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._find_config_adc">
<em class="property">static </em><code class="descname">_find_config_adc</code><span class="sig-paren">(</span><em>config_group</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._find_config_adc" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines which adc’s are used in the digitizer configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config_group</strong> (<code class="xref py py-class docutils literal"><span class="pre">h5py.Group</span></code>) – the digitizer configuration group</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of active adc’s</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._is_config_active">
<em class="property">static </em><code class="descname">_is_config_active</code><span class="sig-paren">(</span><em>config_name</em>, <em>dataset_names</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._is_config_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if <code class="code docutils literal"><span class="pre">config_name</span></code> was used in collecting the
digitizer data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>config_name</strong> (<em>str</em>) – the digitizer configuration name</li>
<li><strong>dataset_names</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – list of HDF5 dataset names in the
digitizer group</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="code docutils literal"><span class="pre">True</span></code>/<code class="code docutils literal"><span class="pre">False</span></code> if the digitizer
configuration <cite>config_name</cite> was used for collecting the
digitizer data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._parse_config_name">
<em class="property">static </em><code class="descname">_parse_config_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._parse_config_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Will parse the passed group name and determine if the name
matches a digitizer configuration group name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) – name of proposed HDF5 digitizer configuration
group</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(<code class="code docutils literal"><span class="pre">True</span></code>/<code class="code docutils literal"><span class="pre">False</span></code> if <code class="xref py py-data docutils literal"><span class="pre">name</span></code> is a
configuration group, the name of the configuration)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(bool, str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._predefined_adc">
<code class="descname">_predefined_adc</code><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template._predefined_adc" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of all predefined (known)
analog-digital-converters (adc’s) for the digitizer</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.active_configs">
<code class="descname">active_configs</code><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.active_configs" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of active configuration names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs">
<code class="descname">configs</code><em class="property"> = None</em><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs"><code class="xref py py-data docutils literal"><span class="pre">configs</span></code></a> will contain all the mapping metadata for each
digitizer configuration.  If no configurations are found then
<a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs"><code class="xref py py-data docutils literal"><span class="pre">configs</span></code></a> will be an empty <code class="xref py py-obj docutils literal"><span class="pre">dict</span></code>.  Otherwise, each
found configuration will be given an entry in <a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs"><code class="xref py py-data docutils literal"><span class="pre">configs</span></code></a>
where the dictionary key will be the configuration name and its
value will be a <code class="xref py py-obj docutils literal"><span class="pre">dict</span></code> that looks like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">configs</span><span class="p">[</span><span class="n">config_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="c1"># True/False if config is active or not</span>
    <span class="s1">&#39;adc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;adc_name&#39;</span><span class="p">,</span> <span class="p">],</span> <span class="c1"># list of active adc&#39;s</span>
    <span class="s1">&#39;group name&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1"># name of configuration group</span>
    <span class="s1">&#39;group path&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span>  <span class="c1"># absolute path to configuration group</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In Addition, for each
<code class="code docutils literal"><span class="pre">adc_name</span> <span class="pre">in</span> <span class="pre">configs[config_name]['adc']</span></code> there will be
a dictionary item added to <a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.configs"><code class="xref py py-data docutils literal"><span class="pre">configs</span></code></a> that looks like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">configs</span><span class="p">[</span><span class="n">config_name</span><span class="p">][</span><span class="n">adc_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span>
    <span class="nb">int</span><span class="p">,</span>     <span class="c1"># board number of active boards</span>
    <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="p">],</span> <span class="c1"># channel numbers of active channels</span>
    <span class="p">{</span><span class="s1">&#39;bit&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="c1"># adc bit resolution</span>
     <span class="s1">&#39;sample rate&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;unit&#39;</span><span class="p">),</span> <span class="c1"># adc sample rate</span>
     <span class="s1">&#39;shot average (software)&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="c1"># adc shot averaging</span>
     <span class="s1">&#39;sample average (hardware)&#39;</span><span class="p">:</span> <span class="nb">int</span> <span class="c1"># adc sample averaging</span>
<span class="p">}),</span> <span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.construct_dataset_name">
<code class="descname">construct_dataset_name</code><span class="sig-paren">(</span><em>board</em>, <em>channel</em>, <em>config_name=None</em>, <em>adc=None</em>, <em>return_info=False</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.construct_dataset_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the dataset name corresponding to the input
arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>board</strong> (<em>int</em>) – board number</li>
<li><strong>channel</strong> (<em>int</em>) – channel number</li>
<li><strong>config_name</strong> (<em>str</em>) – name of configuration</li>
<li><strong>adc</strong> (<em>str</em>) – name of adc</li>
<li><strong>return_info</strong> (<em>bool</em>) – Set <code class="code docutils literal"><span class="pre">True</span></code> to also return an adc
information dictionary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dataset name (and adc information dictionary if
<code class="code docutils literal"><span class="pre">return_info=True</span></code>)</p>
</td>
</tr>
</tbody>
</table>
<p>The returned adc information dictionary should look like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">adc_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;bit&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s1">&#39;sample rate&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span>
    <span class="s1">&#39;sample average (hardware)&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s1">&#39;shot average (software)&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s1">&#39;adc&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;configuration name&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s1">&#39;digitizer&#39;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str (Default) or (str, adc_dict)</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt><code class="xref py py-data docutils literal"><span class="pre">config_name</span></code> behavior:</dt>
<dd><ul class="first last simple">
<li>If only one configuration is active for the digitizer,
then that configuration is assumed and
<code class="xref py py-data docutils literal"><span class="pre">config_name</span></code> does not need to be specified.</li>
<li>If multiple configurations are active for the digitizer,
then one of them needs to be specified.</li>
</ul>
</dd>
<dt><code class="xref py py-data docutils literal"><span class="pre">adc</span></code> behavior:</dt>
<dd><ul class="first last simple">
<li>If only one adc is active, then that adc is assumed and
<code class="xref py py-data docutils literal"><span class="pre">adc</span></code> does not need to be specified.</li>
<li>If multiple adc’s are active, then the adc with the
slowest sample rate is assumed.  To direct to any other
adc, then <code class="xref py py-data docutils literal"><span class="pre">adc</span></code> needs to be specified.</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.group">
<code class="descname">group</code><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.group" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">HDF5 digitizer group</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">h5py.Group</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.info">
<code class="descname">info</code><em class="property"> = None</em><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Information dict of digitizer HDF5 Group</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">info</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;group name&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="c1"># name of digitizer group</span>
    <span class="s1">&#39;group path&#39;</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># full path to digitizer group</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bapsflib.lapdhdf.map_digitizers.map_digis">
<span id="bapsflib-lapdhdf-map-digitizers-map-digis"></span><h3><a class="toc-backref" href="#id2">bapsflib.lapdhdf.map_digitizers.map_digis</a><a class="headerlink" href="#module-bapsflib.lapdhdf.map_digitizers.map_digis" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers">
<em class="property">class </em><code class="descclassname">bapsflib.lapdhdf.map_digitizers.map_digis.</code><code class="descname">hdfMap_digitizers</code><span class="sig-paren">(</span><em>data_group</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>A dictionary that contains mapping objects for all the discovered
digitizers in the HDF5 data group.  The dictionary keys are the
discovered digitizer names.</p>
<p>For example,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dmaps</span> <span class="o">=</span> <span class="n">hdfMap_digitizers</span><span class="p">(</span><span class="n">data_group</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dmaps</span><span class="p">[</span><span class="s1">&#39;SIS 3301&#39;</span><span class="p">]</span>
<span class="go">OUT: &lt;bapsflib.lapdhdf.map_digitizers.sis3301.hdfMap_digi_sis3301&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_group</strong> (<code class="xref py py-class docutils literal"><span class="pre">h5py.Group</span></code>) – HDF5 (data) group that contains the digitizer
groups</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers._defined_digitizer_mappings">
<code class="descname">_defined_digitizer_mappings</code><em class="property"> = {'SIS 3301': &lt;class 'bapsflib.lapdhdf.map_digitizers.sis3301.hdfMap_digi_sis3301'&gt;, 'SIS crate': &lt;class 'bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate'&gt;}</em><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers._defined_digitizer_mappings" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary containing references to the defined (known) digitizer
mapping classes.</p>
</dd></dl>

<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers._hdfMap_digitizers__build_dict">
<code class="descname">_hdfMap_digitizers__build_dict</code><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers._hdfMap_digitizers__build_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Discovers the HDF5 digitizers and builds the dictionary
containing the digitizer mapping objects.  This is the
dictionary used to initialize <code class="code docutils literal"><span class="pre">self</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">digitizer mapping dictionary</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers.data_group_subgnames">
<code class="descname">data_group_subgnames</code><em class="property"> = None</em><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers.data_group_subgnames" title="Permalink to this definition">¶</a></dt>
<dd><p>list of all group names in the HDF5 data group</p>
</dd></dl>

<dl class="attribute">
<dt id="bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers.predefined_digitizer_groups">
<code class="descname">predefined_digitizer_groups</code><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.map_digis.hdfMap_digitizers.predefined_digitizer_groups" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of the predefined digitizer group names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bapsflib.lapdhdf.map_digitizers.sis3301">
<span id="bapsflib-lapdhdf-map-digitizers-sis3301"></span><h3><a class="toc-backref" href="#id3">bapsflib.lapdhdf.map_digitizers.sis3301</a><a class="headerlink" href="#module-bapsflib.lapdhdf.map_digitizers.sis3301" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="bapsflib.lapdhdf.map_digitizers.sis3301.hdfMap_digi_sis3301">
<em class="property">class </em><code class="descclassname">bapsflib.lapdhdf.map_digitizers.sis3301.</code><code class="descname">hdfMap_digi_sis3301</code><span class="sig-paren">(</span><em>digi_group</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.sis3301.hdfMap_digi_sis3301" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template"><code class="xref py py-class docutils literal"><span class="pre">bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template</span></code></a></p>
<p>Mapping class for the ‘SIS 3301’ digitizer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>digi_group</strong> (<code class="xref py py-class docutils literal"><span class="pre">h5py.Group</span></code>) – the HDF5 digitizer group</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="bapsflib.lapdhdf.map_digitizers.sis3301.hdfMap_digi_sis3301.construct_dataset_name">
<code class="descname">construct_dataset_name</code><span class="sig-paren">(</span><em>board</em>, <em>channel</em>, <em>config_name=None</em>, <em>adc='SIS 3301'</em>, <em>return_info=False</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.sis3301.hdfMap_digi_sis3301.construct_dataset_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the HDF5 dataset name based on inputs.  The dataset
name follows the format:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><cite>config_name</cite> [<cite>board</cite>:<cite>channel</cite>]’</div>
</div>
</div></blockquote>
<p>(See
<a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.construct_dataset_name" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.construct_dataset_name"><code class="xref py py-meth docutils literal"><span class="pre">construct_dataset_name()</span></code></a>
of the base class for details)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bapsflib.lapdhdf.map_digitizers.siscrate">
<span id="bapsflib-lapdhdf-map-digitizers-siscrate"></span><h3><a class="toc-backref" href="#id4">bapsflib.lapdhdf.map_digitizers.siscrate</a><a class="headerlink" href="#module-bapsflib.lapdhdf.map_digitizers.siscrate" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate">
<em class="property">class </em><code class="descclassname">bapsflib.lapdhdf.map_digitizers.siscrate.</code><code class="descname">hdfMap_digi_siscrate</code><span class="sig-paren">(</span><em>digi_group</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template"><code class="xref py py-class docutils literal"><span class="pre">bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template</span></code></a></p>
<p>Mapping class for the ‘SIS crate’ digitizer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>digi_group</strong> (<code class="xref py py-class docutils literal"><span class="pre">h5py.Group</span></code>) – the HDF5 digitizer group</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate.brd_to_slot">
<em class="property">static </em><code class="descname">brd_to_slot</code><span class="sig-paren">(</span><em>brd</em>, <em>adc</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate.brd_to_slot" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates board number and adc name to the digitizer slot
number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>brd</strong> (<em>int</em>) – board number</li>
<li><strong>adc</strong> (<em>str</em>) – adc name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">digitizer slot number</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate.construct_dataset_name">
<code class="descname">construct_dataset_name</code><span class="sig-paren">(</span><em>board</em>, <em>channel</em>, <em>config_name=None</em>, <em>adc=None</em>, <em>return_info=False</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate.construct_dataset_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs the HDF5 dataset name based on inputs.  The dataset
name follows the format:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><cite>config_name</cite> [Slot <cite>#</cite>: SIS <cite>####</cite> FPGA <cite>#</cite> ch <cite>#</cite>]</div>
</div>
</div></blockquote>
<p>(See
<a class="reference internal" href="#bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.construct_dataset_name" title="bapsflib.lapdhdf.map_digitizers.digi_template.hdfMap_digi_template.construct_dataset_name"><code class="xref py py-meth docutils literal"><span class="pre">construct_dataset_name()</span></code></a>
of the base class for details)</p>
</dd></dl>

<dl class="staticmethod">
<dt id="bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate.slot_to_brd">
<em class="property">static </em><code class="descname">slot_to_brd</code><span class="sig-paren">(</span><em>slot</em><span class="sig-paren">)</span><a class="headerlink" href="#bapsflib.lapdhdf.map_digitizers.siscrate.hdfMap_digi_siscrate.slot_to_brd" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the ‘SIS crate` slot number to the board number and
adc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>slot</strong> (<em>int</em>) – digitizer slot number</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(board number, adc name)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(int, str)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">bapsflib</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About bapsflib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/main.html">HOWTOs and Explainers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../packageindex.html">The bapsflib Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../packageindex.html">The bapsflib Package</a><ul>
  <li><a href="bapsflib.lapdhdf.html">bapsflib.lapdhdf</a><ul>
      <li>Previous: <a href="bapsflib.lapdhdf.map_controls.html" title="previous chapter">bapsflib.lapdhdf.map_controls</a></li>
      <li>Next: <a href="bapsflib.lapdhdf.map_msi.html" title="next chapter">bapsflib.lapdhdf.map_msi</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Erik T. Everson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/src/bapsflib.lapdhdf.map_digitizers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>